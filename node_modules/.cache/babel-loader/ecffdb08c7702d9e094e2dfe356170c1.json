{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/verifiedprofilev2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/verifiedprofilev2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Projects/verifiedprofilev2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Loader from\"./utils/Loader\";import{verifyAccount,getPendingUsers}from\"./utils/functions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Admin=function Admin(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),usersList=_useState2[0],setUserList=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var getUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.t0=setUserList;_context.next=5;return getPendingUsers();case 5:_context.t1=_context.sent;(0,_context.t0)(_context.t1);_context.next=12;break;case 9:_context.prev=9;_context.t2=_context[\"catch\"](0);console.log(_context.t2);case 12:_context.prev=12;setLoading(false);return _context.finish(12);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,9,12,15]]);}));return function getUsers(){return _ref.apply(this,arguments);};}();var verifyUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ID){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setLoading(true);_context2.next=4;return verifyAccount(ID,3);case 4:_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 9:_context2.prev=9;setLoading(false);return _context2.finish(9);case 12:;case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6,9,12]]);}));return function verifyUser(_x){return _ref2.apply(this,arguments);};}();useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return getUsers();case 2:case\"end\":return _context3.stop();}}},_callee3);})),[]);if(usersList.length===0){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h1\",{align:\"middle\",children:\" All Users Have Been Verified!\"})});}else{return/*#__PURE__*/_jsx(_Fragment,{children:!loading?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"ol\",{children:usersList.map(function(usersList){return/*#__PURE__*/_jsxs(\"li\",{children:[usersList,\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return verifyUser(usersList).then(getUsers);},children:\"Verify\"}),\" \"]});})})}):/*#__PURE__*/_jsx(Loader,{})});}};export default Admin;","map":{"version":3,"names":["React","useState","useEffect","Loader","verifyAccount","getPendingUsers","Admin","usersList","setUserList","loading","setLoading","getUsers","console","log","verifyUser","ID","length","map","then"],"sources":["D:/Projects/verifiedprofilev2/src/components/admin.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport Loader from \"./utils/Loader\";\r\nimport {\r\n    verifyAccount,\r\n    getPendingUsers,\r\n  } from \"./utils/functions\";\r\n  const Admin = () => {\r\n    const [usersList, setUserList] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const getUsers = async () => {\r\n        try {\r\n          setLoading(true);\r\n          setUserList(await getPendingUsers())\r\n        } catch (error) {\r\n          console.log(error);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      const verifyUser = async (ID) => {\r\n        try {\r\n            setLoading(true);\r\n            await verifyAccount(ID, 3);\r\n          } catch (error) {\r\n            console.log(error);\r\n          } finally {\r\n            setLoading(false);\r\n          };\r\n      };\r\n      useEffect(async() => {\r\n        await getUsers()\r\n      }, []);    \r\n      if(usersList.length === 0)\r\n      {\r\n        return(\r\n          <>\r\n          <h1 align= \"middle\"> All Users Have Been Verified!</h1>\r\n          </>\r\n        )\r\n      }\r\n      else\r\n      {\r\n      return (\r\n        <>\r\n          {!loading ? (\r\n            <>\r\n            <ol>\r\n             {usersList.map((usersList) => (\r\n              <li>{usersList} <button onClick={() => verifyUser(usersList).then(getUsers)}>Verify</button> </li>\r\n            ))}\r\n            </ol>\r\n            </>\r\n      \r\n          ) : (\r\n            <Loader />\r\n          )}\r\n        </>\r\n      );\r\n        }\r\n  }\r\n  export default Admin;"],"mappings":"ybAAA,MAAOA,MAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,OAAP,KAAmB,gBAAnB,CACA,OACIC,aADJ,CAEIC,eAFJ,KAGS,mBAHT,C,6IAIE,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,eACeL,QAAQ,CAAC,EAAD,CADvB,wCACXM,SADW,eACAC,WADA,8BAEYP,QAAQ,CAAC,KAAD,CAFpB,yCAEXQ,OAFW,eAEFC,UAFE,eAGlB,GAAMC,SAAQ,0FAAG,mJAEXD,UAAU,CAAC,IAAD,CAAV,CAFW,YAGXF,WAHW,uBAGOH,gBAAe,EAHtB,8IAKXO,OAAO,CAACC,GAAR,cALW,yBAOXH,UAAU,CAAC,KAAD,CAAV,CAPW,qGAAH,kBAARC,SAAQ,0CAAd,CAUE,GAAMG,WAAU,2FAAG,kBAAOC,EAAP,uIAEbL,UAAU,CAAC,IAAD,CAAV,CAFa,uBAGPN,cAAa,CAACW,EAAD,CAAK,CAAL,CAHN,0FAKbH,OAAO,CAACC,GAAR,eALa,wBAObH,UAAU,CAAC,KAAD,CAAV,CAPa,mCAQd,CARc,2EAAH,kBAAVI,WAAU,6CAAhB,CAUAZ,SAAS,sEAAC,+JACFS,SAAQ,EADN,yDAAD,GAEN,EAFM,CAAT,CAGA,GAAGJ,SAAS,CAACS,MAAV,GAAqB,CAAxB,CACA,CACE,mBACE,sCACA,WAAI,KAAK,CAAE,QAAX,4CADA,EADF,CAKD,CAPD,IASA,CACA,mBACE,yBACG,CAACP,OAAD,cACC,sCACA,oBACEF,SAAS,CAACU,GAAV,CAAc,SAACV,SAAD,qBACd,sBAAKA,SAAL,kBAAgB,eAAQ,OAAO,CAAE,yBAAMO,WAAU,CAACP,SAAD,CAAV,CAAsBW,IAAtB,CAA2BP,QAA3B,CAAN,EAAjB,oBAAhB,OADc,EAAd,CADF,EADA,EADD,cAUC,KAAC,MAAD,IAXJ,EADF,CAgBG,CACN,CArDD,CAsDA,cAAeL,MAAf"},"metadata":{},"sourceType":"module"}