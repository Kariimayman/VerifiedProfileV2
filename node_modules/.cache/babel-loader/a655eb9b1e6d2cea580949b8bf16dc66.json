{"ast":null,"code":"\"use strict\";\n\nvar _objectSpread = require(\"D:/Projects/verifiedprofilev2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread2\");\n\nvar _regeneratorRuntime = require(\"D:/Projects/verifiedprofilev2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"D:/Projects/verifiedprofilev2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"D:/Projects/verifiedprofilev2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"D:/Projects/verifiedprofilev2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _defineProperty = require(\"D:/Projects/verifiedprofilev2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Contract = void 0;\n\nvar bn_js_1 = __importDefault(require(\"bn.js\"));\n\nvar depd_1 = __importDefault(require(\"depd\"));\n\nvar providers_1 = require(\"./providers\");\n\nvar errors_1 = require(\"./utils/errors\"); // Makes `function.name` return given name\n\n\nfunction nameFunction(name, body) {\n  return _defineProperty({}, name, function () {\n    return body.apply(void 0, arguments);\n  })[name];\n}\n\nvar isUint8Array = function isUint8Array(x) {\n  return x && x.byteLength !== undefined && x.byteLength === x.length;\n};\n\nvar isObject = function isObject(x) {\n  return Object.prototype.toString.call(x) === '[object Object]';\n};\n/**\n * Defines a smart contract on NEAR including the change (mutable) and view (non-mutable) methods\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#contract}\n * @example\n * ```js\n * import { Contract } from 'near-api-js';\n *\n * async function contractExample() {\n *   const methodOptions = {\n *     viewMethods: ['getMessageByAccountId'],\n *     changeMethods: ['addMessage']\n *   };\n *   const contract = new Contract(\n *     wallet.account(),\n *     'contract-id.testnet',\n *     methodOptions\n *   );\n *\n *   // use a contract view method\n *   const messages = await contract.getMessages({\n *     accountId: 'example-account.testnet'\n *   });\n *\n *   // use a contract change method\n *   await contract.addMessage({\n *      meta: 'some info',\n *      callbackUrl: 'https://example.com/callback',\n *      args: { text: 'my message' },\n *      amount: 1\n *   })\n * }\n * ```\n */\n\n\nvar Contract = /*#__PURE__*/function () {\n  /**\n   * @param account NEAR account to sign change method transactions\n   * @param contractId NEAR account id where the contract is deployed\n   * @param options NEAR smart contract methods that your application will use. These will be available as `contract.methodName`\n   */\n  function Contract(account, contractId, options) {\n    var _this = this;\n\n    _classCallCheck(this, Contract);\n\n    this.account = account;\n    this.contractId = contractId;\n    var _options$viewMethods = options.viewMethods,\n        viewMethods = _options$viewMethods === void 0 ? [] : _options$viewMethods,\n        _options$changeMethod = options.changeMethods,\n        changeMethods = _options$changeMethod === void 0 ? [] : _options$changeMethod;\n    viewMethods.forEach(function (methodName) {\n      Object.defineProperty(_this, methodName, {\n        writable: false,\n        enumerable: true,\n        value: nameFunction(methodName, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var args,\n              options,\n              _args = arguments;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  args = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n                  options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n\n                  if (!((_args.length <= 2 ? 0 : _args.length - 2) || !(isObject(args) || isUint8Array(args)) || !isObject(options))) {\n                    _context.next = 4;\n                    break;\n                  }\n\n                  throw new errors_1.PositionalArgsError();\n\n                case 4:\n                  return _context.abrupt(\"return\", _this.account.viewFunction(_this.contractId, methodName, args, options));\n\n                case 5:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        })))\n      });\n    });\n    changeMethods.forEach(function (methodName) {\n      Object.defineProperty(_this, methodName, {\n        writable: false,\n        enumerable: true,\n        value: nameFunction(methodName, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n          var _len,\n              args,\n              _key,\n              deprecate,\n              _args2 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  for (_len = _args2.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                    args[_key] = _args2[_key];\n                  }\n\n                  if (!(args.length && (args.length > 3 || !(isObject(args[0]) || isUint8Array(args[0]))))) {\n                    _context2.next = 3;\n                    break;\n                  }\n\n                  throw new errors_1.PositionalArgsError();\n\n                case 3:\n                  if (!(args.length > 1 || !(args[0] && args[0].args))) {\n                    _context2.next = 7;\n                    break;\n                  }\n\n                  deprecate = depd_1.default('contract.methodName(args, gas, amount)');\n                  deprecate('use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead');\n                  return _context2.abrupt(\"return\", _this._changeMethod({\n                    methodName: methodName,\n                    args: args[0],\n                    gas: args[1],\n                    amount: args[2]\n                  }));\n\n                case 7:\n                  return _context2.abrupt(\"return\", _this._changeMethod(_objectSpread({\n                    methodName: methodName\n                  }, args[0])));\n\n                case 8:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        })))\n      });\n    });\n  }\n\n  _createClass(Contract, [{\n    key: \"_changeMethod\",\n    value: function () {\n      var _changeMethod2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref3) {\n        var args, methodName, gas, amount, meta, callbackUrl, rawResult;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                args = _ref3.args, methodName = _ref3.methodName, gas = _ref3.gas, amount = _ref3.amount, meta = _ref3.meta, callbackUrl = _ref3.callbackUrl;\n                validateBNLike({\n                  gas: gas,\n                  amount: amount\n                });\n                _context3.next = 4;\n                return this.account.functionCall({\n                  contractId: this.contractId,\n                  methodName: methodName,\n                  args: args,\n                  gas: gas,\n                  attachedDeposit: amount,\n                  walletMeta: meta,\n                  walletCallbackUrl: callbackUrl\n                });\n\n              case 4:\n                rawResult = _context3.sent;\n                return _context3.abrupt(\"return\", providers_1.getTransactionLastResult(rawResult));\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _changeMethod(_x) {\n        return _changeMethod2.apply(this, arguments);\n      }\n\n      return _changeMethod;\n    }()\n  }]);\n\n  return Contract;\n}();\n\nexports.Contract = Contract;\n/**\n * Validation on arguments being a big number from bn.js\n * Throws if an argument is not in BN format or otherwise invalid\n * @param argMap\n */\n\nfunction validateBNLike(argMap) {\n  var bnLike = 'number, decimal string or BN';\n\n  for (var _i = 0, _Object$keys = Object.keys(argMap); _i < _Object$keys.length; _i++) {\n    var argName = _Object$keys[_i];\n    var argValue = argMap[argName];\n\n    if (argValue && !bn_js_1.default.isBN(argValue) && isNaN(argValue)) {\n      throw new errors_1.ArgumentTypeError(argName, bnLike, argValue);\n    }\n  }\n}","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","Contract","bn_js_1","require","depd_1","providers_1","errors_1","nameFunction","name","body","isUint8Array","x","byteLength","undefined","length","isObject","prototype","toString","call","account","contractId","options","viewMethods","changeMethods","forEach","methodName","writable","enumerable","args","PositionalArgsError","viewFunction","deprecate","default","_changeMethod","gas","amount","meta","callbackUrl","validateBNLike","functionCall","attachedDeposit","walletMeta","walletCallbackUrl","rawResult","getTransactionLastResult","argMap","bnLike","keys","argName","argValue","isBN","isNaN","ArgumentTypeError"],"sources":["D:/Projects/verifiedprofilev2/node_modules/near-api-js/lib/contract.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Contract = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst depd_1 = __importDefault(require(\"depd\"));\nconst providers_1 = require(\"./providers\");\nconst errors_1 = require(\"./utils/errors\");\n// Makes `function.name` return given name\nfunction nameFunction(name, body) {\n    return {\n        [name](...args) {\n            return body(...args);\n        }\n    }[name];\n}\nconst isUint8Array = (x) => x && x.byteLength !== undefined && x.byteLength === x.length;\nconst isObject = (x) => Object.prototype.toString.call(x) === '[object Object]';\n/**\n * Defines a smart contract on NEAR including the change (mutable) and view (non-mutable) methods\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#contract}\n * @example\n * ```js\n * import { Contract } from 'near-api-js';\n *\n * async function contractExample() {\n *   const methodOptions = {\n *     viewMethods: ['getMessageByAccountId'],\n *     changeMethods: ['addMessage']\n *   };\n *   const contract = new Contract(\n *     wallet.account(),\n *     'contract-id.testnet',\n *     methodOptions\n *   );\n *\n *   // use a contract view method\n *   const messages = await contract.getMessages({\n *     accountId: 'example-account.testnet'\n *   });\n *\n *   // use a contract change method\n *   await contract.addMessage({\n *      meta: 'some info',\n *      callbackUrl: 'https://example.com/callback',\n *      args: { text: 'my message' },\n *      amount: 1\n *   })\n * }\n * ```\n */\nclass Contract {\n    /**\n     * @param account NEAR account to sign change method transactions\n     * @param contractId NEAR account id where the contract is deployed\n     * @param options NEAR smart contract methods that your application will use. These will be available as `contract.methodName`\n     */\n    constructor(account, contractId, options) {\n        this.account = account;\n        this.contractId = contractId;\n        const { viewMethods = [], changeMethods = [] } = options;\n        viewMethods.forEach((methodName) => {\n            Object.defineProperty(this, methodName, {\n                writable: false,\n                enumerable: true,\n                value: nameFunction(methodName, async (args = {}, options = {}, ...ignored) => {\n                    if (ignored.length || !(isObject(args) || isUint8Array(args)) || !isObject(options)) {\n                        throw new errors_1.PositionalArgsError();\n                    }\n                    return this.account.viewFunction(this.contractId, methodName, args, options);\n                })\n            });\n        });\n        changeMethods.forEach((methodName) => {\n            Object.defineProperty(this, methodName, {\n                writable: false,\n                enumerable: true,\n                value: nameFunction(methodName, async (...args) => {\n                    if (args.length && (args.length > 3 || !(isObject(args[0]) || isUint8Array(args[0])))) {\n                        throw new errors_1.PositionalArgsError();\n                    }\n                    if (args.length > 1 || !(args[0] && args[0].args)) {\n                        const deprecate = depd_1.default('contract.methodName(args, gas, amount)');\n                        deprecate('use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead');\n                        return this._changeMethod({\n                            methodName,\n                            args: args[0],\n                            gas: args[1],\n                            amount: args[2]\n                        });\n                    }\n                    return this._changeMethod({ methodName, ...args[0] });\n                })\n            });\n        });\n    }\n    async _changeMethod({ args, methodName, gas, amount, meta, callbackUrl }) {\n        validateBNLike({ gas, amount });\n        const rawResult = await this.account.functionCall({\n            contractId: this.contractId,\n            methodName,\n            args,\n            gas,\n            attachedDeposit: amount,\n            walletMeta: meta,\n            walletCallbackUrl: callbackUrl\n        });\n        return providers_1.getTransactionLastResult(rawResult);\n    }\n}\nexports.Contract = Contract;\n/**\n * Validation on arguments being a big number from bn.js\n * Throws if an argument is not in BN format or otherwise invalid\n * @param argMap\n */\nfunction validateBNLike(argMap) {\n    const bnLike = 'number, decimal string or BN';\n    for (const argName of Object.keys(argMap)) {\n        const argValue = argMap[argName];\n        if (argValue && !bn_js_1.default.isBN(argValue) && isNaN(argValue)) {\n            throw new errors_1.ArgumentTypeError(argName, bnLike, argValue);\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}