{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/verifiedprofilev2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/verifiedprofilev2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Projects/verifiedprofilev2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Loader from\"./utils/Loader\";import Direct from\"./Direct\";import{isAccountVerified,verifyAccount,createProfile,getusersList}from\"./utils/functions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Functions=function Functions(){var _useState=useState(\"None\"),_useState2=_slicedToArray(_useState,2),verificationType=_useState2[0],SetVerificationType=_useState2[1];var _useState3=useState(\"None\"),_useState4=_slicedToArray(_useState3,2),userId=_useState4[0],setUserId=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var getVerification=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userId){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.t0=SetVerificationType;_context.next=5;return isAccountVerified(userId);case 5:_context.t1=_context.sent;(0,_context.t0)(_context.t1);_context.next=12;break;case 9:_context.prev=9;_context.t2=_context[\"catch\"](0);console.log(_context.t2);case 12:_context.prev=12;setLoading(false);return _context.finish(12);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,9,12,15]]);}));return function getVerification(_x){return _ref.apply(this,arguments);};}();var createNewProfile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setLoading(true);setUserId(window.walletConnection.account().accountId);_context2.next=5;return createProfile();case 5:_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:_context2.prev=10;_context2.next=13;return getVerification(userId);case 13:setLoading(false);return _context2.finish(10);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7,10,15]]);}));return function createNewProfile(){return _ref2.apply(this,arguments);};}();var getUsers=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;setLoading(true);_context3.next=4;return getusersList();case 4:_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 9:_context3.prev=9;setLoading(false);return _context3.finish(9);case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6,9,12]]);}));return function getUsers(){return _ref3.apply(this,arguments);};}();var addVerification=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(userId,type){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;setLoading(true);_context4.next=4;return verifyAccount(userId,type);case 4:_context4.next=9;break;case 6:_context4.prev=6;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 9:_context4.prev=9;setLoading(false);return _context4.finish(9);case 12:;case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[0,6,9,12]]);}));return function addVerification(_x2,_x3){return _ref4.apply(this,arguments);};}();useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return createNewProfile();case 2:case\"end\":return _context5.stop();}}},_callee5);})),[]);return/*#__PURE__*/_jsx(_Fragment,{children:!loading?/*#__PURE__*/_jsx(Direct,{ID:userId,vType:verificationType}):/*#__PURE__*/_jsx(Loader,{})});};export default Functions;","map":{"version":3,"names":["React","useState","useEffect","Loader","Direct","isAccountVerified","verifyAccount","createProfile","getusersList","Functions","verificationType","SetVerificationType","userId","setUserId","loading","setLoading","getVerification","console","log","createNewProfile","window","walletConnection","account","accountId","getUsers","addVerification","type"],"sources":["D:/Projects/verifiedprofilev2/src/components/Functions.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport Loader from \"./utils/Loader\";\r\nimport Direct from \"./Direct\"\r\nimport {\r\n  isAccountVerified,\r\n  verifyAccount,\r\n  createProfile,\r\n  getusersList\r\n} from \"./utils/functions\";\r\n\r\n\r\nconst Functions = () => {\r\n  const [verificationType, SetVerificationType] = useState(\"None\");\r\n  const [userId, setUserId] = useState(\"None\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getVerification = async (userId) => {\r\n    try {\r\n      setLoading(true);\r\n      SetVerificationType(await isAccountVerified(userId));\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const createNewProfile = async()=> {\r\n    try {\r\n      setLoading(true);\r\n      setUserId(window.walletConnection.account().accountId)\r\n      await (createProfile());\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      await getVerification(userId)\r\n      setLoading(false);\r\n    }  \r\n};\r\n\r\nconst getUsers = async () => {\r\n  try {\r\n    setLoading(true);\r\n    (await getusersList())\r\n  } catch (error) {\r\n    console.log(error);\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\nconst addVerification = async (userId , type) => {\r\n  try {\r\n    setLoading(true);\r\n    await verifyAccount(userId, type);\r\n  } catch (error) {\r\n    console.log(error);\r\n  } finally {\r\n    setLoading(false);\r\n  };\r\n}\r\n  useEffect(async() => {\r\n    await createNewProfile()\r\n  }, []);\r\n\r\nreturn (\r\n  <>\r\n    {!loading ? (\r\n        <Direct ID = {userId} vType = {verificationType}/>\r\n    ) : (\r\n      <Loader />\r\n    )}\r\n  </>\r\n);\r\n};\r\n\r\nexport default Functions;"],"mappings":"ybAAA,MAAOA,MAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,OAAP,KAAmB,gBAAnB,CACA,MAAOC,OAAP,KAAmB,UAAnB,CACA,OACEC,iBADF,CAEEC,aAFF,CAGEC,aAHF,CAIEC,YAJF,KAKO,mBALP,C,gGAQA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,eAC0BR,QAAQ,CAAC,MAAD,CADlC,wCACfS,gBADe,eACGC,mBADH,8BAEMV,QAAQ,CAAC,MAAD,CAFd,yCAEfW,MAFe,eAEPC,SAFO,8BAGQZ,QAAQ,CAAC,KAAD,CAHhB,yCAGfa,OAHe,eAGNC,UAHM,eAKtB,GAAMC,gBAAe,0FAAG,iBAAOJ,MAAP,kIAEpBG,UAAU,CAAC,IAAD,CAAV,CAFoB,YAGpBJ,mBAHoB,uBAGMN,kBAAiB,CAACO,MAAD,CAHvB,8IAKpBK,OAAO,CAACC,GAAR,cALoB,yBAOpBH,UAAU,CAAC,KAAD,CAAV,CAPoB,qGAAH,kBAAfC,gBAAe,4CAArB,CAWA,GAAMG,iBAAgB,2FAAG,yJAErBJ,UAAU,CAAC,IAAD,CAAV,CACAF,SAAS,CAACO,MAAM,CAACC,gBAAP,CAAwBC,OAAxB,GAAkCC,SAAnC,CAAT,CAHqB,uBAIdhB,cAAa,EAJC,2FAMrBU,OAAO,CAACC,GAAR,eANqB,kDAQfF,gBAAe,CAACJ,MAAD,CARA,SASrBG,UAAU,CAAC,KAAD,CAAV,CATqB,wGAAH,kBAAhBI,iBAAgB,2CAAtB,CAaF,GAAMK,SAAQ,2FAAG,yJAEbT,UAAU,CAAC,IAAD,CAAV,CAFa,uBAGNP,aAAY,EAHN,0FAKbS,OAAO,CAACC,GAAR,eALa,wBAObH,UAAU,CAAC,KAAD,CAAV,CAPa,sGAAH,kBAARS,SAAQ,2CAAd,CAWA,GAAMC,gBAAe,2FAAG,kBAAOb,MAAP,CAAgBc,IAAhB,uIAEpBX,UAAU,CAAC,IAAD,CAAV,CAFoB,uBAGdT,cAAa,CAACM,MAAD,CAASc,IAAT,CAHC,0FAKpBT,OAAO,CAACC,GAAR,eALoB,wBAOpBH,UAAU,CAAC,KAAD,CAAV,CAPoB,mCAQrB,CARqB,2EAAH,kBAAfU,gBAAe,kDAArB,CAUEvB,SAAS,sEAAC,+JACFiB,iBAAgB,EADd,yDAAD,GAEN,EAFM,CAAT,CAIF,mBACE,yBACG,CAACL,OAAD,cACG,KAAC,MAAD,EAAQ,EAAE,CAAIF,MAAd,CAAsB,KAAK,CAAIF,gBAA/B,EADH,cAGC,KAAC,MAAD,IAJJ,EADF,CASC,CA/DD,CAiEA,cAAeD,UAAf"},"metadata":{},"sourceType":"module"}